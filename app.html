<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/app.css">
    <title>Document</title>
</head>
<body oncontextmenu="return false" onselectstart="return false">
    <div id="wrapper">
        <header>
            <input type="file" name="VideoFile" accept="video/*">
            <input type="file" name="ImageFile" accept="image/*">
            <div id="home">
                <svg class="icon" aria-hidden="true">
                    <use xlink:href="#icon-home"></use>
                </svg>
            </div>
            <nav id="header-nav">
                <ul>
                    <li>
                        <span>文件</span>
                        <ul class="nav-sub" id="file">
							<li id="openImageFile">打开图片文件</li>
                            <li id="openVideoFile">打开视频文件</li>
							<li id="openUrl">从URL打开</li>
							<li id="saveImage">保存图片</li>
							<li id="saveGIFImage">保存GIF图</li>
						</ul>
                    </li>
                    <li>
                        <span>形状</span>
                        <ul class="nav-sub" id="shape">
                            <li id="pencil">铅笔</li>
                            <li id="line">直线</li>
                            <li id="brush">刷子</li>
                            <li id="round">圆</li>
                            <li id="rectangle">矩形</li>
							<li id="rightTriangle">直角三角形</li>
                            <li id="isosceles">等腰三角形</li>
                            <li id="diamond">菱形</li>
						</ul>
                    </li>
                    <li>
                        <span>工具</span>
                        <ul class="nav-sub" id="tool">
							<li id="eraser">橡皮擦</li>
                            <li id="bucket">油漆桶</li>
                            <li id="text">文本</li>
                            <li id="shear">剪切</li>
                            <li id="extract">颜色提取器</li>
						</ul>
                    </li>
                    <li>
                        <span>图像</span>
                        <ul class="nav-sub" id="image">
                            <li id="white">重置</li>
                        </ul>
                    </li>
                    <li>
                        <span>视频</span>
                        <ul class="nav-sub" id="video">
                            <li id="addsubtitle">添加字幕</li>
                            <li id="bulletchat">添加弹幕</li>
                            <li id="addText">添加文字</li>
                            <li id="intercept">截取当前帧</li>
                        </ul>
                    </li>
                </ul>
            </nav>
            <div id="toggle" class="iconfont" title="关闭选项栏">
                <ul>
                    <li title="截取" class="nonec intercept">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-line-cropjianqie-01"></use>
                        </svg>
                    </li>
                    <li title="顺时针旋转" class="nonec rotate">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-shunshizhenxuanzhuan"></use>
                        </svg>
                    </li>
                    <li title="逆时针旋转" class="nonec rotate">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-nishizhenxuanzhuan"></use>
                        </svg>
                    </li>
                    <li title="旋转180°" class="nonec rotate">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-xuanzhuan"></use>
                        </svg>
                    </li>
                    <li title="工具初始化">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-chushihua1"></use>
                        </svg>
                    </li>
                    <li title="撤销">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-weibiaoti545"></use>
                        </svg>
                    </li>
                    <li title="下一步">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-weibiaoti546"></use>
                        </svg>
                    </li>
                    <li title="保存">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-xiazai"></use>
                        </svg>
                    </li>
                    
                    <li title="缩小" class="toggle-control">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-icon--1"></use>
                        </svg>
                    </li>
                    <li title="展开" class="toggle-control" style="display: none;">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-icon--"></use>
                        </svg>
                    </li>
                </ul>
            </div>
            <!-- <div class="splitLine" style="width: 2px;height: 100%;"></div> -->
            <div id="header-logo"></div>
        </header>
        <main>
            <nav id="main-nav">
                <div class="splitLine"></div>
                <ul>
                    <li title="图像属性">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-fangxiang"></use>
                        </svg>
                    </li>
                    <li title="剪切">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-jianqie"></use>
                        </svg>
                    </li>
                    <li title="画笔">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-huabi"></use>
                        </svg>
                    </li>
                    <li title="拾色器">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-dropper"></use>
                        </svg>
                    </li>
                    <li title="油漆桶">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-youqitong_huaban1"></use>
                        </svg>
                    </li>
                    <li title="橡皮擦">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-rubber"></use>
                        </svg>
                    </li>
                    <li title="文本工具">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-wenben"></use>
                        </svg>
                    </li>
                    <li title="形状工具">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-14xingzhuangjiehe"></use>
                        </svg>
                    </li>
                    <li title="重置画板">
                        <svg class="icon" aria-hidden="true">
                            <use xlink:href="#icon-baiban"></use>
                        </svg>
                    </li>
                </ul>
                <div class="splitLine"></div>
            </nav>
            <div id="main-panel" style="display: none;" >
                <div id="main-panel-title">动！！！</div>
                <span>X</span>
                <div id="main-panel-content"></div>
                <div id="main-panel-oper"></div>
            </div>
            <div id="main-content" onmousewheel="return false">
                <div id="content" >
                    <div id="contains"></div>
                </div>
                <div id="player" style="display: none;" >
                    <svg class="icon" aria-hidden="true">
                        <use xlink:href="#icon-weibiaoti--"></use>
                    </svg>    
                    <svg class="icon" aria-hidden="true" style="display:none;">
                        <use xlink:href="#icon-weibiaoti--1"></use>
                    </svg>
                    <span class="timedisplay">00:00</span>
                    <div id="progressrange">
                        <div id="progressobar">
                            <div id="progressoafter">
                                <div id="progressoindex"></div>
                            </div>
                        </div>    
                    </div>
                    <span class="timedisplay">00:99</span>
                </div>
 
            </div>
            <div id="main-right">
                <div class="buttonLayer">
                    <input type="button" value="导入图片">
                    <input type="button" value="导入视频">
                    <div>
                        <select name="" id="" title="默认模板">
                            <option value="无"></option>
                        </select>
                        <input id="searchImage" type="text" placeholder="输入想要素材关键字">
                    </div>
                    <input type="button" value="搜索素材">
                    <div id="gridLayer">
                        <img draggable="true" src="https://www.doutula.com/material/v10/身体/熊猫人/a1.png" alt="没了" height="100px" width="100px">
                        <img draggable="true" src="https://doutula-oss1.oss-ap-southeast-1.aliyuncs.com/production/uploads/image/2020/02/03/20200203738933_AIpgHD.jpg" alt="没了" height="100px" width="100px">
                        <img draggable="true" src="https://doutula-oss1.oss-ap-southeast-1.aliyuncs.com/production/uploads/image/2020/02/03/20200203738933_AIpgHD.jpg" alt="真的没了" height="100px" width="100px">
                        <img draggable="true" src="https://doutula-oss1.oss-ap-southeast-1.aliyuncs.com/production/uploads/image/2020/02/03/20200203738933_AIpgHD.jpg" alt="真的没了" height="100px" width="100px">
                        <img draggable="true" src="https://doutula-oss1.oss-ap-southeast-1.aliyuncs.com/production/uploads/image/2020/02/03/20200203738933_AIpgHD.jpg" alt="是真的没了" height="100px" width="100px">
                        <img draggable="true" src="https://doutula-oss1.oss-ap-southeast-1.aliyuncs.com/production/uploads/image/2020/02/03/20200203738933_AIpgHD.jpg" alt="是真的没了" height="100px" width="100px">
                        <img draggable="true" src="https://doutula-oss1.oss-ap-southeast-1.aliyuncs.com/production/uploads/image/2020/02/03/20200203738933_AIpgHD.jpg" alt="？？都说了没了" height="100px" width="100px">
                        <img draggable="true" src="https://doutula-oss1.oss-ap-southeast-1.aliyuncs.com/production/uploads/image/2020/02/03/20200203738933_AIpgHD.jpg" alt="？？都说了没了" height="100px" width="100px">    
                    </div>
                    <div id="turnPages">
                        <button name="homepage"><<</button>
                        <button name="previouspage"><</button>
                        <div>1</div>
                        <button name="nextpage">></button>
                        <button name="lastpage">>></button>
                    </div>
                </div>
                <div class="buttonLayer" style="display: none;">
                    <input type="button" title="请录制0-8秒内视频" value="开启录制">
                    <input type="button" value="暂停录制" style="display: none;background-color: rgb(120,120,120);">
                    <input type="button" value="取消录制">
                    <input type="button" value="截取当前帧">
                    <input type="button" value="导出结果">
                </div>
                <div class="buttonLayer gifModify" style="display: none;">
                    <div id="mainControl">
                        <button value="添加字幕" class="mainControlBackground" title="添加视频字幕">添加字幕</button>
                        <button value="添加弹幕" title="为视频添加弹幕">添加弹幕</button>
                        <button value="添加文字" title="将文字加入视频中">添加文字</button>
                    </div>
                    <div id="captionControl"  style="display: none;">
                        <button value="顺轴滚动弹幕">顺轴滚动弹幕</button>
                        <button value="逆轴滚动弹幕" class="mainControlBackground">逆轴滚动弹幕</button>
                    </div>
                    <input type="text" placeholder="请输入文字内容">
                    <div id="selectFrame">
                        <span>00:00:00</span>
                        &nbsp&nbsp-&nbsp&nbsp
                        <span>00:00:00</span>
                        
                    </div>
                    <div id="selectFrameButton">
                        <button value="begin">选择初始帧</button>
                        &nbsp&nbsp&nbsp&nbsp&nbsp
                        <button value="end">选择结束帧</button>
                    </div>
                    <div id="wz-style">
                        <div id="textSize1" title="16px">
                            <label for="wz-size">文字大小：</label>
                            <input type="range" id="wz-size" min="1" max="50" value="16" step="1" />
                        </div>
                        <div id="textSpeed1" title="5"  style="display: none;">
                            <label for="wz-speed">移动速度：</label>
                            <input type="range" id="wz-speed" min="5" max="200" value="15" step="2" />
                        </div>
                        <div id="bottomDistance" title="5">
                            <label for="wz-speed">底部距离：</label>
                            <input type="range" id="wz-distance" min="1" max="50" value="5" step="1" />
                        </div>
                        <div id="textColor1">
                            <label for="wz-color">文字颜色：</label>
                            <input type="color" id="wz-color" value="#000000" />
                        </div>    
                    </div>
                    <input type="button" style="margin-top: 5px;" value="重新选择">
                    <input id="addFrame" type="button" value="添加">
                    <input type="button" value="重新录制">
                    <input type="button" value="导出GIF文件">
                </div>
            </div>
        </main>
        <footer>
            <span>1</span>
            *
            <span>1</span>px
            <div id="x1">X: <span>0</span></div>
            <div id="y1">Y: <span>0</span></div>
        </footer>
    </div>

    <dialog id="warning">
        <div class="model">
			<div class="model-header">
				<span>警告框</span>
				<span class="close">×</span>
			</div>
			<div class="splitter-right"></div>
			<div class="model-content">
				<p>是否将当前画布重置为白板</p>
			</div>
			<div class="model-footer">
				<button  value="cancel">取&nbsp;消</button>
				<button id="acceptWarning">确&nbsp;定</button>
			</div>
		</div>
    </dialog>

    <dialog id="inputUrl">
        <div class="model">
			<div class="model-header">
				<span>打开图像网址</span>
				<span class="close">×</span>
			</div>
			<div class="splitter-right"></div>
			<div class="model-content">
				<input id="inputTextUrl1" type="text" placeholder="在此处输入图片链接">
			</div>
			<div class="model-footer">
				<button value="cancel">取&nbsp;消</button>
				<button id="acceptURL">确&nbsp;定</button>
			</div>
		</div>
    </dialog>

    <dialog id="saveToImage" >
        <div class="model">
			<div class="model-header">
				<span>下载图片</span>
				<span class="close">×</span>
			</div>
			<div class="splitter-right"></div>
			<div class="model-content">
                <div>
                    <div>文件名称</div>
                </div>
                <div id="inputTextpng">
                    <input id="imageName" type="text" placeholder="在此处输入文件名称">.png
                </div>
                <div id="model-content-input">
                    <div>
                        <label for="save-w">图像宽度</label>
                        <input type="number" id="save-w" min="0" value="0" disabled />    
                    </div>
                    <div>
                        <label for="save-h">图像高度</label>
                        <input type="number" id="save-h" min="0" value="0" disabled />  
                    </div>    
                </div>
            </div>
			<div class="model-footer"> 
				<button  value="cancel">取&nbsp;消</button>
				<button id="acceptImage">确&nbsp;定</button>
			</div>
		</div>
    </dialog>

    <dialog id="saveToGif">
        <div class="model">
			<div class="model-header">
				<span>下载图片</span>
				<span class="close">×</span>
			</div>
			<div class="splitter-right"></div>
			<div class="model-content">
                <div>
                    <div>文件名称</div>
                </div>
                <div id="inputTextgif">
                    <input type="text" placeholder="在此处输入文件名称">.gif
                </div>
                <div id="model-content-GIFinput" >
                    <div>
                        <label for="save-z" title="1-60">图像帧数</label>
                        <input type="number" id="saveGIF-z" min="1" value="60" />    
                    </div>
                    <div>
                        <label for="save-w">图像宽度</label>
                        <input type="number" id="saveGIF-w" min="0" value="0" />    
                    </div>
                    <div>
                        <label for="save-h">图像高度</label>
                        <input type="number" id="saveGIF-h" min="0" value="0" />  
                    </div>    
                </div>
            </div>
			<div class="model-footer"> 
				<button  value="cancel">取&nbsp;消</button>
				<button id="acceptGIF">确&nbsp;定</button>
			</div>
		</div>
    </dialog>

    <dialog id="speedProgress">
        <div>
            <img src="./fonts/2.gif" alt="" height="90px" width="90px">
            <div>
                视频处理中
            </div>       
        </div>
    </dialog>

    <template id="txbh-template">
		<div id="txhb-panel" class="panel">
            <div>
				<label for="img-height">图像长度：</label>
				<input type="number" value="2" id="img-height" min="0" disabled />
			</div>
			<div>
				<label for="img-width">图像宽度：</label>
				<input type="number" value="2" id="img-width" min="0" disabled />
			</div>
			<div>
				<label for="img-posX">图像位置(X)：</label>
				<input type="number" value="2" id="img-posX" min="0" disabled />
			</div>
			<div>
				<label for="img-posY">图像位置(Y)：</label>
				<input type="number" value="2" id="img-posY" min="0" disabled />
			</div>
		</div>
	</template>
    <template id="jq-template">
		<div id="jq-panel" class="panel">
            <div>
				<label for="jq-height">截取长度：</label>
				<input type="number" id="jq-height" min="0" value="0" disabled />
			</div>
			<div>
				<label for="jq-width">截取宽度：</label>
				<input type="number" id="jq-width" min="0" value="0" disabled />
			</div>
			<div>
				<label for="jq-posX">截取位置(X)：</label>
				<input type="number" id="jq-posX" min="0" value="0" disabled />
			</div>
			<div>
				<label for="jq-posY">截取位置(Y)：</label>
				<input type="number" id="jq-posY" min="0" value="0" disabled />
			</div>
		</div>
	</template>
    <template id="hb-template">
		<div id="hb-panel" class="panel">
			<div>
				<label for="hb-size">画笔大小：</label>
				<input type="range" id="hb-size" min="1" max="15" value="3" step="1" />
			</div>
			<div>
				<label for="hb-color">画笔颜色：</label>
				<input type="color" id="hb-color" value="#000000" />
			</div>
		</div>
	</template>
    <template id="ssq-template">
		<div id="ssq-panel" class="panel">
			<div>
				<label for="ssq-posX">目标位置(X)：</label>
				<input type="number" id="ssq-posX" min="0" value="0" disabled />
			</div>
			<div>
				<label for="ssq-posY">目标位置(Y)：</label>
				<input type="number" id="ssq-posY" min="0" value="0" disabled />
			</div>
			<div>
				<label for="ssq-color">目标颜色：</label>
				<input type="color" id="ssq-color" />
			</div>
		</div>
	</template>
    <template id="yqt-template">
		<div id="yqt-panel" class="panel">
			<div>
				<label for="yqt-power">力度：</label>
				<input type="range" id="yqt-power" min="1" max="255" value="30" step="1" />
			</div>
			<div>
				<label for="yqt-color">颜色：</label>
				<input type="color" id="yqt-color" value="#ffffff" />
			</div>
		</div>
	</template>
    <template id="xpc-template">
		<div id="xpc-panel" class="panel">
			<div>
				<label for="xpc-size">大小：</label>
				<input type="range" id="xpc-size" min="1" max="30" value="3" step="1" />
			</div>
			<div>
				<label for="xpc-power">力度：</label>
				<input type="range" id="xpc-power" min="0" max="1" value="0.7" step="0.01" />
			</div>
		</div>
	</template>
    <template id="wbgj-template">
		<div id="wbgj-panel" class="panel">
			<div>
				<label for="wbgj-font-family">字体样式：</label>
				<select id="wbgj-font-family">
					<option value="sans-serif" selected>sans-serif</option>
					<option value="Arial">Arial</option>
					<option value="Arial Black">Arial Black</option>
					<option value="Arial Narrow">Arial Narrow</option>
					<option value="Impact">Impact</option>
					<option value="Georgia">Georgia</option>
					<option value="微软雅黑">微软雅黑</option>
					<option value="宋体">宋体</option>
					<option value="Times New Roman">Times New Roman</option>
				</select>
			</div>
			<div>
				<label for="wbgj-font-weight">字体粗细：</label>
				<select id="wbgj-font-weight">
					<option value="100">变细</option>
					<option value="400" selected>正常</option>
					<option value="900">加粗</option>
				</select>
			</div>
			<div>
				<label for="wbgj-text-style">文字风格：</label>
				<select id="wbgj-text-style">
					<option value="1" selected>填充</option>
					<option value="0">描边</option>
				</select>
			</div>
			<div>
				<label for="wbgj-text-size">文字大小：</label>
				<input type="number" id="wbgj-text-size" min="1" max="100" step="1" value="20">
			</div>
			<div>
				<label for="wbgj-text-color">文字颜色：</label>
				<input type="color" id="wbgj-text-color" value="#000000" />
			</div>
		</div>
	</template>
    <template id="xzgj-template">
		<div id="xzgj-panel" class="panel">
            <!-- &nbsp;&nbsp; -->
            <span id="xzgjColor1" title="#000000">
                <label for="xzgj-color">画笔颜色：</label>
                <input type="color" id="xzgj-color" value="#000000" />
            </span>
            <span id="xzgjSize1" title="6">
                <label for="xzgj-size">画笔大小：</label>
                <input type="range" id="xzgj-size" min="1" max="30" value="6" step="1" />
            </span>
            <span id="xzghStatus">
                <input type="button" value="轮廓" title="stroke">
                <div></div>
                <input type="button" value="填充" title="fill">
            </span>
			<div>
				<span>
                    <svg class="icon" aria-hidden="true" style="font-size: 15px;">
                        <use xlink:href="#icon-line"></use>
                    </svg>
                    &nbsp;&nbsp;绘制直线
                </span>
			</div>
			<div>
				<span>
                    <svg class="icon" aria-hidden="true" style="font-size: 15px;">
                        <use xlink:href="#icon-circle"></use>
                    </svg>
                    &nbsp;&nbsp;绘制圆形
                </span>
			</div>
            <div>
				<span>
                    <svg class="icon" aria-hidden="true" style="font-size: 15px;">
                        <use xlink:href="#icon-rect"></use>
                    </svg>
                    &nbsp;&nbsp;绘制矩形
                </span>
			</div>
			<div>
				<span>
                    <svg class="icon" aria-hidden="true" style="font-size: 15px;">
                        <use xlink:href="#icon-zhijiao-triangle"></use>
                    </svg>
                    &nbsp;&nbsp;绘制直角三角形
                </span>
			</div>
            <div>
				<span>
                    <svg class="icon" aria-hidden="true" style="font-size: 15px;">
                        <use xlink:href="#icon-zheng-triangle"></use>
                    </svg>
                    &nbsp;&nbsp;绘制等腰三角形
                </span>
			</div>
            <div>
				<span>
                    <svg class="icon" aria-hidden="true" style="font-size: 15px;">
                        <use xlink:href="#icon-lingxing"></use>
                    </svg>
                    &nbsp;&nbsp;绘制菱形
                </span>
			</div>
		</div>
	</template>
    <template id="czhb-template">
		<div id="czhb-panel" class="panel">
			<div>
				<span>
                    <svg class="icon" aria-hidden="true" style="font-size: 15px;">
                        <use xlink:href="#icon-tx-fill-changfangxing"></use>
                    </svg>
                    &nbsp;&nbsp;重置为白板
                </span>
			</div>
		</div>
	</template>
</body>
<script src="./js/iconfont.js" defer></script>
<script src="./js/layer/gif.js" defer></script>
<script type="module" src="./js/bind.js" defer></script>
</html>